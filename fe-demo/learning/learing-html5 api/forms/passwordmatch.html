<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Password Match</title>
</head>
<body>
<script>
  function checkPasswords() {
      var pass1 = document.getElementById("password1");
      var pass2 = document.getElementById("password2");
      var passTip = document.getElementById('passTip');
      if (pass1.value != pass2.value){
        pass2.setCustomValidity("Your passwords do not match."+
            " Please recheck that your new password is entered identically in the two fields.");
        passTip.style.color="#ff0000";
        passTip.textContent = "密码不匹配";
      }
      else{
        pass2.setCustomValidity("");
        passTip.style.color="#00ff00";
        passTip.textContent = "密码匹配";
      }

  }
  function loadDemo() {
     // register an event handler on the form to
     // handle all invalid control notifications
    document.passwordChange.addEventListener("invalid", invalidHandler, true);
  }

  function invalidHandler(evt) {
    // set the label's text color to red
    evt.srcElement.style.background = 'red';

    // stop the event from propagating higher
    evt.stopPropagation();

    // stop the browser's default handling of the validation error
    evt.preventDefault();
  }

  window.addEventListener("load", loadDemo, false);
</script>
<form name="passwordChange">
  <p>
    <label for="password1">New Password:</label>
    <input type="password" id="password1">
  </p>
  <p>
    <label for="password2">New Password:</label>
    <input type="password" id="password2" onchange="checkPasswords()">
    <output id="passTip"></output>
  </p>
</form>
  <button onclick="document.passwordChange.password1.checkValidity()">Check Validity</button>
</body>
</html>